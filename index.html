<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Saravanapriyan M - Technical Lead | Frontend Master | CSS Enthusiast |
      Microsoft MCT
    </title>
    <link rel="stylesheet" href="css/tetris.css" />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
  </head>
  <body>
    <div
      class="game-container"
      x-data="tetrisGame()"
      @keydown.window="handleKeyDown($event)"
      tabindex="0"
    >
      <div class="intro">
        <img
          src="img/portfolio.png"
          alt="CSS Javascript Angular React VueJs Flutter NodeJS MongoDB Azure REST GraphQL Python AlpineJS XD/Figma GIT HTML TYPESCRIPT SASS/SCSS Bootstrap Tailwind Webpack Vite Jest Cypress Redux MobX Next.js Nuxt.js Svelte jQuery D3.js Three.js WebGL Electron Express.js Deno Bun Docker Kubernetes GitHub~Actions Firebase Linux Bash PowerShell Redis SQLite WordPress Shopify Twilio SendGrid Mailchimp Strapi ffmpeg OpenAI Dart ChatGPT AI/ML WebAssembly WebRTC SPA PWA Web~Components Accessibility SEO Progressive~Enhancement Performance~Optimization Agile/Scrum TDD/BDD Design~Patterns Microservices CI/CD Serverless Web~Security OAuth WebSockets RESTful~APIs Prisma"
          style="max-width: 25em"
        />
        <h1>Hi, I'm Saravanapriyan M</h1>
        <p>
          Principal Engineer | Frontend Master | CSS Enthusiast | Microsoft MCT
        </p>
        <hr />
        <h2>
          <a href="/works" title="Projects and more.."
            >I do stuff like this ></a
          >
        </h2>
        <ul class="links">
          <li>
            <a href="https://github.com/saravanapriyanm" title="Github">
              <svg
                width="800px"
                height="800px"
                viewBox="0 0 20 20"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
              >
                <g
                  id="Page-1"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                >
                  <g
                    id="Dribbble-Light-Preview"
                    transform="translate(-140.000000, -7559.000000)"
                    fill="#f88"
                  >
                    <g id="icons" transform="translate(56.000000, 160.000000)">
                      <path
                        d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399"
                        id="github-[#142]"
                      ></path>
                    </g>
                  </g>
                </g>
              </svg>
            </a>
          </li>
          <li>
            <a
              href="https://www.linkedin.com/in/saravanapriyanm/"
              title="LinkedIn"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="200"
                height="200"
                viewBox="0 0 1025 1024"
              >
                <path
                  fill="#f88"
                  d="M896.428 1024h-768q-53 0-90.5-37.5T.428 896V128q0-53 37.5-90.5t90.5-37.5h768q53 0 90.5 37.5t37.5 90.5v768q0 53-37.5 90.5t-90.5 37.5zm-640-864q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5v-64zm0 192q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v512q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5V352zm640 160q0-80-56-136t-136-56q-44 0-96.5 14t-95.5 39v-21q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v512q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5V576q0-53 37.5-90.5t90.5-37.5t90.5 37.5t37.5 90.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5V512z"
                ></path>
              </svg>
            </a>
          </li>
          <li>
            <a href="mailto:saravanapriyanm@gmail.com" title="Email">
              <?xml version="1.0" encoding="utf-8"?>

              <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
              <?xml version="1.0" encoding="utf-8"?>

              <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
              <svg
                fill="#f88"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                style="width: 2.5em; height: 2.5em"
              >
                <g data-name="Layer 2">
                  <g data-name="email">
                    <rect width="24" height="24" opacity="0" />

                    <path
                      d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-.67 2L12 10.75 5.67 6zM19 18H5a1 1 0 0 1-1-1V7.25l7.4 5.55a1 1 0 0 0 .6.2 1 1 0 0 0 .6-.2L20 7.25V17a1 1 0 0 1-1 1z"
                    />
                  </g>
                </g>
              </svg>
            </a>
          </li>
        </ul>
      </div>
      <div class="game-area">
        <div class="game-info">
          <div class="score-board">
            <div>Score: <span x-text="score">0</span></div>
            <span>üî∏</span>
            <div>Level: <span x-text="level">1</span></div>
            <span>üî∏</span>
            <div>Lines: <span x-text="lines">0</span></div>
          </div>
        </div>
        <canvas id="gameCanvas" width="300" height="600"></canvas>
        <div class="controls">
          <p>Use ‚Üê ‚Üí ‚Üì arrow keys to move</p>
          <p>‚Üë to rotate | Space to hard drop</p>
          <p>P to pause | R to restart</p>
        </div>
      </div>
    </div>

    <div
      class="game-over"
      x-show="gameOver === true"
      x-transition
      style="display: none"
    >
      <h2>Game Over!</h2>
      <p>Final Score: <span x-text="score">0</span></p>
      <p>Level Reached: <span x-text="level">1</span></p>
      <button class="restart-btn" @click="restartGame()">Play Again</button>
    </div>

    <script>
      const BOARD_WIDTH = 10;
      const BOARD_HEIGHT = 20;
      const BLOCK_SIZE = 30;

      function tetrisGame() {
        return {
          // Game state
          score: 0,
          level: 1,
          lines: 0,
          gameRunning: false,
          gameOver: false,
          paused: false,
          dropTime: 1000,
          lastDrop: 0,

          // Game board and pieces
          board: Array(BOARD_HEIGHT)
            .fill()
            .map(() => Array(BOARD_WIDTH).fill(null)),
          currentPiece: null,
          currentX: 0,
          currentY: 0,

          // Canvas context
          canvas: null,
          ctx: null,

          // Technology names array
          techNames: [
            "JavaScript",
            "Python",
            "React",
            "Node.js",
            "Angular",
            "Vue.js",
            "TypeScript",
            "Java",
            "C++",
            "C#",
            "PHP",
            "Ruby",
            "Go",
            "Rust",
            "Swift",
            "Kotlin",
            "Flutter",
            "React Native",
            "Docker",
            "Kubernetes",
            "AWS",
            "Azure",
            "MongoDB",
            "PostgreSQL",
            "Redis",
            "GraphQL",
            "REST API",
            "HTML5",
            "CSS3",
            "Sass",
            "Webpack",
            "Babel",
            "Git",
            "GitHub",
            "GitLab",
            "Jenkins",
            "CircleCI",
            "Linux",
            "Ubuntu",
            "CentOS",
            "Nginx",
            "Apache",
            "MySQL",
            "SQLite",
            "Firebase",
            "Supabase",
            "Vercel",
            "Netlify",
            "Heroku",
          ],

          // Tetris pieces with authentic technology brand colors
          pieces: [
            { shape: [[1, 1, 1, 1]], color: "#f7df1e", tech: "JS" },
            {
              shape: [
                [1, 1],
                [1, 1],
              ],
              color: "#3776ab",
              tech: "Py",
            },
            {
              shape: [
                [0, 1, 0],
                [1, 1, 1],
              ],
              color: "#61dafb",
              tech: "React",
            },
            {
              shape: [
                [1, 1, 0],
                [0, 1, 1],
              ],
              color: "#68a063",
              tech: "Node",
            },
            {
              shape: [
                [0, 1, 1],
                [1, 1, 0],
              ],
              color: "#dd0031",
              tech: "Ng",
            },
            {
              shape: [
                [1, 0, 0],
                [1, 1, 1],
              ],
              color: "#4fc08d",
              tech: "Vue",
            },
            {
              shape: [
                [0, 0, 1],
                [1, 1, 1],
              ],
              color: "#3178c6",
              tech: "TS",
            },
          ],

          init() {
            this.canvas = document.getElementById("gameCanvas");
            this.ctx = this.canvas.getContext("2d");
            this.canvas.width = BOARD_WIDTH * BLOCK_SIZE;
            this.canvas.height = BOARD_HEIGHT * BLOCK_SIZE;

            // Reset game state
            this.gameOver = false;
            this.paused = false;

            this.spawnPiece();
            this.gameRunning = true;
            this.gameLoop();
          },

          drawTechBlock(x, y, techData, blockSize = BLOCK_SIZE) {
            const gradient = this.ctx.createLinearGradient(
              x,
              y,
              x + blockSize,
              y + blockSize
            );
            gradient.addColorStop(0, techData.color);
            gradient.addColorStop(
              1,
              this.adjustBrightness(techData.color, -0.3)
            );

            this.ctx.fillStyle = gradient;
            this.ctx.fillRect(x, y, blockSize - 1, blockSize - 1);

            this.ctx.strokeStyle = this.adjustBrightness(techData.color, 0.3);
            this.ctx.lineWidth = 2;
            this.ctx.strokeRect(x, y, blockSize - 1, blockSize - 1);

            this.ctx.fillStyle = "#ffffff";
            this.ctx.font = "bold 8px Arial";
            this.ctx.textAlign = "center";
            this.ctx.textBaseline = "middle";

            let displayText = techData.tech;
            if (displayText.length > 8) {
              displayText = displayText.substring(0, 6) + "..";
            }

            this.ctx.fillText(
              displayText,
              x + blockSize / 2,
              y + blockSize / 2
            );
          },

          adjustBrightness(color, amount) {
            const col = color.slice(1);
            const r = parseInt(col.substring(0, 2), 16);
            const g = parseInt(col.substring(2, 4), 16);
            const b = parseInt(col.substring(4, 6), 16);

            const newR = Math.max(
              0,
              Math.min(255, r + Math.round(255 * amount))
            );
            const newG = Math.max(
              0,
              Math.min(255, g + Math.round(255 * amount))
            );
            const newB = Math.max(
              0,
              Math.min(255, b + Math.round(255 * amount))
            );

            const hex = (newR << 16) | (newG << 8) | newB;
            return "#" + hex.toString(16).padStart(6, "0");
          },

          spawnPiece() {
            const pieceType = Math.floor(Math.random() * this.pieces.length);
            this.currentPiece = JSON.parse(
              JSON.stringify(this.pieces[pieceType])
            );
            this.currentX =
              Math.floor(BOARD_WIDTH / 2) -
              Math.floor(this.currentPiece.shape[0].length / 2);
            this.currentY = 0;

            if (
              this.checkCollision(
                this.currentPiece.shape,
                this.currentX,
                this.currentY
              )
            ) {
              this.gameOver = true;
              this.gameRunning = false;
            }
          },

          checkCollision(shape, x, y) {
            for (let row = 0; row < shape.length; row++) {
              for (let col = 0; col < shape[row].length; col++) {
                if (shape[row][col]) {
                  const newX = x + col;
                  const newY = y + row;

                  if (newX < 0 || newX >= BOARD_WIDTH || newY >= BOARD_HEIGHT) {
                    return true;
                  }

                  if (newY >= 0 && this.board[newY][newX] !== null) {
                    return true;
                  }
                }
              }
            }
            return false;
          },

          placePiece() {
            for (let row = 0; row < this.currentPiece.shape.length; row++) {
              for (
                let col = 0;
                col < this.currentPiece.shape[row].length;
                col++
              ) {
                if (this.currentPiece.shape[row][col]) {
                  const x = this.currentX + col;
                  const y = this.currentY + row;
                  if (y >= 0) {
                    this.board[y][x] = {
                      color: this.currentPiece.color,
                      tech: this.currentPiece.tech,
                    };
                  }
                }
              }
            }
            this.clearLines();
            this.spawnPiece();
          },

          clearLines() {
            let linesCleared = 0;

            for (let row = BOARD_HEIGHT - 1; row >= 0; row--) {
              if (this.board[row].every((cell) => cell !== null)) {
                this.board.splice(row, 1);
                this.board.unshift(Array(BOARD_WIDTH).fill(null));
                linesCleared++;
                row++;
              }
            }

            if (linesCleared > 0) {
              this.lines += linesCleared;
              this.score += linesCleared * 100 * this.level;
              this.level = Math.floor(this.lines / 10) + 1;
              this.dropTime = Math.max(100, 1000 - (this.level - 1) * 100);
            }
          },

          rotatePiece() {
            const rotated = this.currentPiece.shape[0].map((_, index) =>
              this.currentPiece.shape.map((row) => row[index]).reverse()
            );

            if (!this.checkCollision(rotated, this.currentX, this.currentY)) {
              this.currentPiece.shape = rotated;
            }
          },

          movePiece(dx, dy) {
            if (
              !this.checkCollision(
                this.currentPiece.shape,
                this.currentX + dx,
                this.currentY + dy
              )
            ) {
              this.currentX += dx;
              this.currentY += dy;
              return true;
            }
            return false;
          },

          hardDrop() {
            while (this.movePiece(0, 1)) {}
            this.placePiece();
          },

          restartGame() {
            this.board = Array(BOARD_HEIGHT)
              .fill()
              .map(() => Array(BOARD_WIDTH).fill(null));
            this.score = 0;
            this.level = 1;
            this.lines = 0;
            this.gameRunning = true;
            this.gameOver = false;
            this.paused = false;
            this.dropTime = 1000;
            this.spawnPiece();
          },

          render() {
            this.ctx.fillStyle = "#000";
            this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

            // Draw board
            for (let row = 0; row < BOARD_HEIGHT; row++) {
              for (let col = 0; col < BOARD_WIDTH; col++) {
                if (this.board[row][col]) {
                  this.drawTechBlock(
                    col * BLOCK_SIZE,
                    row * BLOCK_SIZE,
                    this.board[row][col]
                  );
                }
              }
            }

            // Draw current piece
            if (this.currentPiece && this.gameRunning) {
              for (let row = 0; row < this.currentPiece.shape.length; row++) {
                for (
                  let col = 0;
                  col < this.currentPiece.shape[row].length;
                  col++
                ) {
                  if (this.currentPiece.shape[row][col]) {
                    const x = (this.currentX + col) * BLOCK_SIZE;
                    const y = (this.currentY + row) * BLOCK_SIZE;
                    this.drawTechBlock(x, y, {
                      color: this.currentPiece.color,
                      tech: this.currentPiece.tech,
                    });
                  }
                }
              }
            }

            // Draw grid
            this.ctx.strokeStyle = "#333";
            this.ctx.lineWidth = 0.5;
            for (let i = 0; i <= BOARD_WIDTH; i++) {
              this.ctx.beginPath();
              this.ctx.moveTo(i * BLOCK_SIZE, 0);
              this.ctx.lineTo(i * BLOCK_SIZE, this.canvas.height);
              this.ctx.stroke();
            }
            for (let i = 0; i <= BOARD_HEIGHT; i++) {
              this.ctx.beginPath();
              this.ctx.moveTo(0, i * BLOCK_SIZE);
              this.ctx.lineTo(this.canvas.width, i * BLOCK_SIZE);
              this.ctx.stroke();
            }
          },

          gameLoop() {
            if (!this.gameRunning) return;

            const now = Date.now();
            if (!this.paused && now - this.lastDrop >= this.dropTime) {
              if (!this.movePiece(0, 1)) {
                this.placePiece();
              }
              this.lastDrop = now;
            }

            this.render();
            requestAnimationFrame(() => this.gameLoop());
          },

          handleKeyDown(event) {
            if (!this.gameRunning || this.paused) {
              if (event.key === "p" || event.key === "P") {
                this.paused = !this.paused;
              }
              if (event.key === "r" || event.key === "R") {
                this.restartGame();
              }
              return;
            }

            switch (event.key) {
              case "ArrowLeft":
                this.movePiece(-1, 0);
                break;
              case "ArrowRight":
                this.movePiece(1, 0);
                break;
              case "ArrowDown":
                if (this.movePiece(0, 1)) this.score += 1;
                break;
              case "ArrowUp":
                this.rotatePiece();
                break;
              case " ":
                event.preventDefault();
                this.hardDrop();
                break;
              case "p":
              case "P":
                this.paused = !this.paused;
                break;
              case "r":
              case "R":
                this.restartGame();
                break;
            }
          },
        };
      }
    </script>
  </body>
</html>
